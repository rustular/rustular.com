---
import { Image } from '@astrojs/image/components';

import Layout from '../../components/Layout.astro';
interface Frontmatter {
  title: string;
  date: string;
  description: string;
}

const newsletters = await Astro.glob<Frontmatter>('./*.md');
---

<Layout title="Newsletters">
  <h1 class="text-2xl font-bold text-center mb-16">Newsletters</h1>
  <div class="m-auto flex max-w-4xl flex-wrap justify-center gap-4">
    {
      newsletters.map((newsletter) => (
        <a
          class="flex flex-col items-center w-72 hover:text-blue-500 hover:underline"
          rel="prefetch"
          href={newsletter.url}
        >
          <Image
            class="rounded-lg w-full"
            src={`/assets/newsletter/${newsletter.frontmatter.date}.png`}
            alt={newsletter.frontmatter.title}
            width={256}
            height={144}
          />
          <h2 class="mt-2 text-lg font-medium">
            {newsletter.frontmatter.title}
          </h2>
        </a>
      ))
    }
  </div>
</Layout>
